<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon icon" href="img/logo.png" />
    <title id="Tname">&#x417;&#x430;&#x43A;&#x430;&#x437; | Империя пиццы</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="viewport" id="viewport"
        content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
    <meta name="HandheldFriendly" content="true">



    <link rel="stylesheet" href="css/reset.css%3Fv=WSyRWvPZGf_m-86d4f_Ihbt3CXmqvHYHSkWJf6o0euU.css">
    <link rel="stylesheet"
        href="fonts/font-awesome-4.7.0/fonts/font-awesome.min.css%3Fv=gg4WnOJIJAZtmXP9S2Vhqunc1tvvZDXakF1aHWSCmXw.css" />
    <link rel="stylesheet"
        href="plugins/swiper/css/swiper.min.css%3Fv=0eq7ypooFiUey_mtgx1ZnlnGoEO0S7jEuS3wHyaXRsQ.css" />
    <link rel="stylesheet"
        href="plugins/editable-select/jquery-editable-select.min.css%3Fv=x5-B87XNfhUkwrYryaWGt-TQ9P1AxUe8P4R6xAyfU7E.css" />
    <link rel="stylesheet" href="css/karma.css%3Fv=YAZqU5wk0FTSsxTCNqrgoC7q9-L4QBZ4zA0bOZzgAy8.css">
    <link rel="stylesheet" href="css/mobile.css%3Fv=t7i78DFeLumkaDltne6UCyGClbEKkU3NqucFYXyIeYM.css">
    <link rel="stylesheet" href="js/select2/select2.css%3Fv=Nf34vgKBw0AgQv6PtcfcEkE02mn9G5cA98BsHT84Bro.css">


    <script type="text/javascript" src="plugins/swiper/js/swiper.min.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/knockout-3.4.2.js"></script>
    <script type="text/javascript" src="plugins/editable-select/jquery-editable-select.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700&amp;subset=cyrillic" rel="stylesheet">

</head>

<body>
    <div id="loaderId" class="pizza_loader_none">
        <canvas id="loaderCanvasId" class="pizza"></canvas>
    </div>
    <div class="c-site">
        <header class="c-header">
            <div class="c-layout clearfix">
                <div class="c-header__logos clearfix c-wrapper">
                    <div class="c-header__logo">
                        <a href="index.html">
                            <img src="img/logo--pizza.png" alt="" />
                        </a>
                    </div>
                    <div class="c-header__logo o-glow">
                        <a href="index.html">
                            <img src="img/logo--sushi.png" alt="" />
                        </a>
                    </div>
                </div>
                <div class="actions-stock">
                    <div class="c-actions js-actions c-wrapp">


                        <nav class="c-header__nav js-header__nav">
                            <ul class="menu">
                                <li><a href="index.html">Меню</a></li>
                                <li>
                                    <a href="Shares.html">Акции</a>
                                    <ul id="NavigationPartial_AB" data-bind="foreach: observableArray">
                                        <li><a data-bind="attr:{'href': '/Shares/ShareItem/'+id()},text:header()">Нету
                                                акций</a></li>
                                    </ul>
                                </li>
                                <li><a href="Vacancies.html">Вакансии</a></li>
                                <li><a href="Company/About.html">о Компании</a>
                                    <ul>
                                        <li><a href="Company/AddressPage.html">Контакты и адреса</a></li>
                                        <li><a href="Company/DeliveryMaps.html">Карта и зоны доставки</a></li>
                                        <li><a href="Company/DeliveryRules.html">Правила</a></li>
                                        <li><a href="Company/Instructions.html">Инструкции</a></li>
                                        <li><a href="Company/FeedBack.html">Обратная связь</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </nav>

                        <script>
                            function Promotions(promotions) {
                                var self = this;
                                self.observableArray = ko.observableArray();
                                for (var i = 0; i < promotions.length; ++i) {
                                    self.observableArray.push(new Promotion(promotions[i]));
                                }
                            }

                            function Promotion(promotion) {
                                var self = this;
                                self.id = ko.observable(promotion.id);
                                self.header = ko.observable(promotion.header);
                                self.backgroundImage = ko.observable(promotion.backgroundImage);
                            }

                            $.ajax({
                                type: "GET",
                                url: "/News/GetNewsActionResult",
                                data: {},
                                contentType: "application/json;charset=utf-8",
                                dataType: "json",
                                success: function (result) {
                                    ko.applyBindings(new Promotions(result), document.getElementById("NavigationPartial_AB"));
                                },
                                error: function (response) {
                                    console.log("error");
                                }
                            });
                        </script>


                        <div class="c-header__phones">
                            <div class="c-phones__list">
                                <a href="tel:0312510707">0 (312) 51-07-07</a><br>
                                <a href="tel:0551510707">0 (551) 51-07-07</a><br>
                                <a href="tel:0772510707">0 (772) 51-07-07</a><br>
                                <a href="tel:0704510707">0 (704) 51-07-07</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="c-header__cart c-wrapper">
                    <a href="Cart.html">Корзина</a>
                </div>
                <div class="c-nav--mobile c-wrapper">
                    <div class="c-hamburger js-hamburger"></div>
                    <div class="c-phones__trigger js-phones__trigger"></div>
                </div>
            </div>
        </header>
        <div class="content container">

            <body>

                <div class="c-wrapper">
                    <main class="c-main">
                        <div class="c-layout clearfix">
                            <div class="c-content">
                                <h1 class="c-main__title">Заказ</h1>
                                <div class="c-columns clearfix">
                                    <div class="c-column">
                                        <div class="c-orders clearfix" id="basket2">
                                            <!-- ko template: { name: 'cartItemsTemplate2', foreach: cartItems, as: 'cartItem'} -->
                                            <!-- /ko -->
                                            <!-- ko template: { name: 'cartItemsTemplate3', foreach: comboCartItems, as: 'comboCartItem'} -->
                                            <!-- /ko -->
                                        </div>
                                        <!--.c-orders__list-->
                                        <div class="c-order__total">
                                            Сумма: <strong class="order__total" aid="#">0</strong>
                                        </div>
                                    </div>
                                    <!--.c-column-->

                                    <div class="c-column" id="cartOrderId">
                                        <p class="c-form">

                                        <form action="Cart.html">
                                            <input type="hidden" id="IdIsForeignIp" name="IsForeignIp" data-val="true"
                                                data-val-required="The IsForeignIp field is required." value="False">
                                            <div class="c-form__info">Поля, обязательные для заполнения, помечены *
                                            </div>
                                            <div class="c-form__item">
                                                <label for="LastName">&#x418;&#x43C;&#x44F; *</label>
                                                <input type="text" data-bind="value: LastName">
                                                <span class="uniqueHidden field-validation-valid" name="LastName"
                                                    style="color: red" data-valmsg-for="LastName"
                                                    data-valmsg-replace="true"></span>
                                            </div>
                                            <!--.c-form__item-->
                                            <div class="c-form__item">
                                                <label
                                                    for="PhoneNumber">&#x422;&#x435;&#x43B;&#x435;&#x444;&#x43E;&#x43D;
                                                    *</label>
                                                <input type="text" data-bind="value: PhoneNumber" id="phone"
                                                    placeholder="Введите ваш телефон">
                                                <span class="uniqueHidden field-validation-valid" name="PhoneNumber"
                                                    style="color: red" data-valmsg-for="PhoneNumber"
                                                    data-valmsg-replace="true"></span>
                                            </div>
                                            <!--.c-form__item-->
                                            <div class="c-form__item">
                                                <label for="OrderType">&#x422;&#x438;&#x43F;
                                                    &#x437;&#x430;&#x43A;&#x430;&#x437;&#x430; *</label>

                                                <div class="c-form__radios clearfix">
                                                    <div class="c-form__radio">
                                                        <input type="radio" name="order-type" id="order-type-delivery"
                                                            value="delivery" data-bind="checked:OrderType"
                                                            class="js-tabs" />
                                                        <label for="order-type-delivery"
                                                            data-bind="text: DeliveryType().Name">Доставка</label>
                                                    </div>
                                                    <div class="c-form__radio">
                                                        <input type="radio" name="order-type" id="order-type-pickup"
                                                            value="pickup" data-bind="checked:OrderType"
                                                            class="js-tabs" />
                                                        <label for="order-type-pickup"
                                                            data-bind="text: PickupType().Name">Самовывоз</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--.c-form__item-->
                                            <div class="c-tabs">
                                                <div class="c-tab c-tab--visible" id="tab-delivery">
                                                    <div class="c-form__item">
                                                        <label for="CityId">&#x413;&#x43E;&#x440;&#x43E;&#x434;
                                                            *</label>
                                                        <select data-bind="value: CityId" data-val="true"
                                                            data-val-required="&#x41F;&#x43E;&#x43B;&#x435; &#x27;&#x413;&#x43E;&#x440;&#x43E;&#x434;&#x27; &#x44F;&#x432;&#x43B;&#x44F;&#x435;&#x442;&#x441;&#x44F; &#x43E;&#x431;&#x44F;&#x437;&#x430;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x44B;&#x43C;."
                                                            id="CityId" name="CityId">
                                                            <option value="10000000000001">
                                                                &#x411;&#x418;&#x428;&#x41A;&#x415;&#x41A;</option>
                                                            <option value="10000000000014">&#x41A;&#x410;&#x41D;&#x422;
                                                            </option>
                                                            <option value="10000000000013">
                                                                &#x41A;&#x410;&#x420;&#x410;-&#x411;&#x410;&#x41B;&#x422;&#x410;
                                                            </option>
                                                        </select>
                                                        <span class="uniqueHidden2 field-validation-valid" name="CityId"
                                                            style="color: red" data-valmsg-for="CityId"
                                                            data-valmsg-replace="true"></span>
                                                    </div>
                                                    <!--.c-form__item-->
                                                    <div class="c-form__item">
                                                        <label for="StreetId">&#x423;&#x43B;&#x438;&#x446;&#x430;
                                                            *</label>
                                                        <select
                                                            data-bind="value: StreetId, options: Streets, optionsText: 'name', optionsValue: 'streetId'"
                                                            id="select2" data-val="true"
                                                            data-val-required="&#x41F;&#x43E;&#x43B;&#x435; &#x27;&#x423;&#x43B;&#x438;&#x446;&#x430;&#x27; &#x44F;&#x432;&#x43B;&#x44F;&#x435;&#x442;&#x441;&#x44F; &#x43E;&#x431;&#x44F;&#x437;&#x430;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x44B;&#x43C;."
                                                            name="StreetId"></select>
                                                        <span class="uniqueHidden2 field-validation-valid"
                                                            name="StreetId" style="color: red"
                                                            data-valmsg-for="StreetId"
                                                            data-valmsg-replace="true"></span>
                                                    </div>
                                                    <!--.c-form__item-->
                                                    <div class="c-form__items clearfix">
                                                        <div class="c-form__item">
                                                            <label for="House">&#x414;&#x43E;&#x43C; *</label>
                                                            <input type="text" data-bind="value: House" />
                                                            <span class="uniqueHidden2 field-validation-valid"
                                                                name="House" style="color: red" data-valmsg-for="House"
                                                                data-valmsg-replace="true"></span>
                                                        </div>
                                                        <!--.c-form__item-->
                                                        <div class="c-form__item">
                                                            <label
                                                                for="Building">&#x41A;&#x43E;&#x440;&#x43F;&#x443;&#x441;</label>
                                                            <input type="text" data-bind="value: Building" />
                                                        </div>
                                                        <!--.c-form__item-->
                                                    </div>
                                                    <div class="c-form__items clearfix">
                                                        <div class="c-form__item">
                                                            <label
                                                                for="Apartments">&#x41A;&#x432;./&#x41E;&#x444;&#x438;&#x441;
                                                                *</label>
                                                            <input type="text" data-bind="value: Apartments" />
                                                            <span class="uniqueHidden2 field-validation-valid"
                                                                name="Apartments" style="color: red"
                                                                data-valmsg-for="Apartments"
                                                                data-valmsg-replace="true"></span>
                                                        </div>
                                                        <!--.c-form__item-->
                                                        <div class="c-form__item">
                                                            <label
                                                                for="Entry">&#x41F;&#x43E;&#x434;&#x44A;&#x435;&#x437;&#x434;</label>
                                                            <input type="text" data-bind="value: Entry" />
                                                        </div>
                                                        <!--.c-form__item-->
                                                        <div class="c-form__item">
                                                            <label for="Floor">&#x42D;&#x442;&#x430;&#x436;</label>
                                                            <input type="text" data-bind="value: Floor" />
                                                        </div>
                                                        <!--.c-form__item-->
                                                        <div class="c-form__item">
                                                            <label
                                                                for="EntryCode">&#x414;&#x43E;&#x43C;&#x43E;&#x444;&#x43E;&#x43D;</label>
                                                            <input type="text" data-bind="value: EntryCode" />
                                                        </div>
                                                        <!--.c-form__item-->
                                                    </div>
                                                </div>
                                                <!--.tab-->
                                                <div class="c-tab" id="tab-pickup">
                                                    <div class="c-form__item">
                                                        <label for="BranchId">&#x410;&#x434;&#x440;&#x435;&#x441;
                                                            &#x440;&#x435;&#x441;&#x442;&#x43E;&#x440;&#x430;&#x43D;&#x430;
                                                            *</label>
                                                        <select data-bind="value:BranchId" data-val="true"
                                                            data-val-required="The &#x410;&#x434;&#x440;&#x435;&#x441; &#x440;&#x435;&#x441;&#x442;&#x43E;&#x440;&#x430;&#x43D;&#x430; * field is required."
                                                            id="BranchId" name="BranchId">
                                                            <option value="5">12 &#x41C;&#x41A;&#x420;</option>
                                                            <option value="19">6 &#x41C;&#x41A;&#x420;</option>
                                                            <option value="13">7 &#x41C;&#x41A;&#x420;</option>
                                                            <option value="4">8 &#x41C;&#x41A;&#x420;</option>
                                                            <option value="18">&#x410;&#x417;&#x418;&#x42F;
                                                                &#x41C;&#x41E;&#x41B;&#x41B;</option>
                                                            <option value="16">&#x410;&#x41B;&#x410;
                                                                &#x410;&#x420;&#x427;&#x410;</option>
                                                            <option value="1">
                                                                &#x410;&#x41B;&#x410;&#x41C;&#x415;&#x414;&#x418;&#x41D;
                                                            </option>
                                                            <option value="11">
                                                                &#x411;&#x418;&#x428;&#x41A;&#x415;&#x41A;
                                                                &#x41F;&#x410;&#x420;&#x41A;</option>
                                                            <option value="3">&#x412;&#x415;&#x424;&#x410;</option>
                                                            <option value="23">&#x413;&#x423;&#x41C;</option>
                                                            <option value="6">&#x417;&#x410;&#x41F;&#x410;&#x414;
                                                            </option>
                                                            <option value="17">&#x41A;&#x410;&#x41D;&#x422;</option>
                                                            <option value="14">&#x41A;&#x410;&#x420;&#x410;
                                                                &#x411;&#x410;&#x41B;&#x422;&#x410;</option>
                                                            <option value="8">&#x41A;&#x42B;&#x417;&#x42B;&#x41B;
                                                                &#x410;&#x421;&#x41A;&#x415;&#x420;</option>
                                                            <option value="12">
                                                                &#x41E;&#x428;&#x421;&#x41A;&#x418;&#x419;</option>
                                                            <option value="10">
                                                                &#x41F;&#x41B;&#x41E;&#x429;&#x410;&#x414;&#x42C;
                                                            </option>
                                                            <option value="9">
                                                                &#x41F;&#x41E;&#x41B;&#x418;&#x422;&#x415;&#x425;
                                                            </option>
                                                            <option value="2">&#x422;&#x42D;&#x426;</option>
                                                        </select>
                                                    </div>
                                                    <!--.c-form__item-->
                                                </div>
                                                <!--.tab-->
                                            </div>
                                            <!--.tabs-->
                                            <div class="c-form__item c-form__item_half">
                                                <label>
                                                    <!-- ko text: CurrentOrderType().DisplayName -->
                                                    <!-- /ko -->
                                                </label>

                                                <select data-bind="options: Hours(),value: Hour"></select><span
                                                    asp-for="0">час</span>
                                                <select data-bind="options: Minutes(),value: Minute"></select><span
                                                    asp-for="0">минут</span>
                                            </div>
                                            <!--.c-form__item-->
                                            <div class="c-form__item">
                                                <label
                                                    for="Comment">&#x414;&#x43E;&#x43F;&#x43E;&#x43B;&#x43D;&#x438;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x430;&#x44F;
                                                    &#x438;&#x43D;&#x444;&#x43E;&#x440;&#x43C;&#x430;&#x446;&#x438;&#x44F;</label>
                                                <textarea data-bind="value: Comment"></textarea>
                                            </div>
                                            <!--.c-form__item-->
                                            <div class="c-form__item">
                                                <label for="PaymentType">&#x421;&#x43F;&#x43E;&#x441;&#x43E;&#x431;
                                                    &#x43E;&#x43F;&#x43B;&#x430;&#x442;&#x44B;</label>
                                                <select data-bind="value:PaymentType" id="PaymentType"
                                                    name="PaymentType">
                                                    <option value="0">
                                                        &#x41D;&#x430;&#x43B;&#x438;&#x447;&#x43D;&#x44B;&#x435;
                                                    </option>
                                                    <option value="1">
                                                        &#x414;&#x435;&#x43C;&#x438;&#x440;&#x431;&#x430;&#x43D;&#x43A;
                                                    </option>
                                                </select>
                                            </div>
                                            <!--.c-form__item-->
                                            <div class="c-form__item">
                                                <label
                                                    for="ChangeSum">&#x412;&#x43D;&#x43E;&#x441;&#x438;&#x43C;&#x430;&#x44F;
                                                    &#x441;&#x443;&#x43C;&#x43C;&#x430;</label>
                                                <input type="text" data-bind="value:ChangeSum" />
                                                <div class="c-form__description">укажите купюру, которой Вы будете
                                                    вносить оплату, чтобы курьер заранее взял с собой сдачу</div>
                                            </div>
                                            <!--.c-form__item-->
                                            <div class="c-form__item">
                                                <label>&nbsp;</label>
                                                <div class="c-form__checkboxes clearfix">
                                                    <div class="c-form__checkbox">
                                                        <input type="checkbox" id="order-agreement-agree"
                                                            data-bind="checked: IsAgreement" value="agree" />
                                                        <label for="order-agreement-agree">С <a title="Условия доставки"
                                                                href="Company/DeliveryRules.html">условиями доставки</a>
                                                            согласен *</label>
                                                        <span class="uniqueHidden field-validation-valid"
                                                            name="IsAgreement" style="color: red"
                                                            data-valmsg-for="IsAgreement"
                                                            data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--.c-form__item-->
                                            <div class="c-form__actions">
                                                <input id="btnSubmit" type="submit" value="Заказать" />
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                <!--.c-column-->
                            </div>
                            <!--.c-columns-->
                        </div>
                    </main>
                </div>

                <div class="c-popup c-mask js-mask"></div>

                <!---------------------------MODAL SUCCESS ------------------------------------------------------------------------->
                <!--------------------------- Отображение происходит, если в body есть класс is-menu ------------------------------>
                <div class="c-popup js-modal" id="responseId">
                    <div class="c-popup__mask js-modal__trigger closeResponseFormOfOrder"></div>
                    <div class="c-modal__content">
                        <div class="c-popup__close js-modal__trigger closeResponseFormOfOrder"></div>
                        <div class="c-popup__title">
                            Ваш заказ оформлен.<br />Ожидайте звонка оператора
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Номер заказа:</div>
                            <div class="c-row__value" data-bind="text:OrderNumber"></div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Заказчик:</div>
                            <div class="c-row__value" data-bind="text:Name"></div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Телефон:</div>
                            <div class="c-row__value" data-bind="text:Telephone"></div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Адрес:</div>
                            <div class="c-row__value" data-bind="text:DeliveryAddress"></div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Тип заказа:</div>
                            <div class="c-row__value" data-bind="text:OrderType"></div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Время доставки:</div>
                            <div class="c-row__value" data-bind="text:DeliveryTime"></div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Вносимая сумма:</div>
                            <div class="c-row__value" data-bind="text:ChangeSum">0 сом</div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Сумма заказа:</div>
                            <div class="c-row__value" data-bind="text:OrderSum">0 сом</div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Скидка:</div>
                            <div class="c-row__value" data-bind="text:Discount">
                                <strong>0 сом</strong>
                            </div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Сдача:</div>
                            <div class="c-row__value" data-bind="text:Change">0 сом</div>
                        </div>
                        <div class="c-row clearfix">
                            <div class="c-row__label">Комментарий:</div>
                            <div class="c-row__value" data-bind="text:Comment">...</div>
                        </div>
                        <div class="c-popup__actions">
                            <a href="Cart.html#" onclick="return false"
                                class="js-modal__trigger closeResponseFormOfOrder">OK</a>
                        </div>
                    </div>
                </div>
                <!--.c-popup-->


                <div class="c-popup js-popup">
                    <div class="c-popup__mask js-mask"></div>
                    <div class="c-popup__content">
                        <div class="c-popup__close js-popup__trigger"></div>
                        <div class="c-popup__item clearfix" id="orderPopupId">
                            <div data-bind="if: $root.CurrentItem() && $root.IsSingle()">
                                <div class="c-popup__title" data-bind="text: $root.CurrentItem().Name()"></div>

                                <div class="c-modificators" data-bind="foreach: $root.CurrentItem().ModifierGroups">
                                    <div data-bind="if: Modifiers().length>0">
                                        <div class="c-modificators__title">
                                            К этому блюду Вы можете выбрать:
                                        </div>
                                        <div data-bind="if: MinimumSelected==0">
                                            <div data-bind="foreach: Modifiers">
                                                <div class="c-modificators__item clearfix">
                                                    <div class="c-modificators__form-item">
                                                        <form action="Cart.html">
                                                            <div class="c-form__checkbox"
                                                                data-bind="click:function (){$parent.setModifiers($data)}">
                                                                <input type="checkbox" data-bind="checked:IsChecked">
                                                                <label data-bind="text: Name"></label>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div data-bind="if: MinimumSelected > 0 && MaximumSelected>0">
                                            <div data-bind="foreach: Modifiers">
                                                <div class="c-modificators__item clearfix">
                                                    <div class="c-modificators__form-item"
                                                        data-bind="click:function (){$parent.setModifier($data)}">
                                                        <div class="c-form__radio">
                                                            <input type="radio"
                                                                data-bind="checked:$parent.IsSelected,checkedValue:Code">
                                                            <label data-bind="text: Name"></label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--.modificators-->

                                <div class="c-total clearfix">
                                    <div class="c-total__count">
                                        <div class="c-total__actions js-roulette clearfix">
                                            <span class="c-menu__arrow c-menu__arrow--minus c-menu--disabled"
                                                title="уменьшить"
                                                data-bind="click: $root.CurrentItem().decrementZCounter, css:{ 'c-menu--disabled': $root.CurrentItem().ZCount() < 1 }"></span>
                                            <span class="c-menu__count">
                                                <form action="Cart.html">
                                                    <input type="text" class="js-roulette__count"
                                                        data-bind="value: $root.CurrentItem().ZCount()" />
                                                </form>
                                            </span>
                                            <span class="c-menu__arrow c-menu__arrow--plus" title="увеличить"
                                                data-bind="click: $root.CurrentItem().incrementZCounter , css:{ 'c-menu--disabled': $root.CurrentItem().ZCount() >=  $root.CurrentItem().Count()}"></span>
                                        </div>
                                    </div>
                                    <div class="c-total__price">
                                        Общая стоимость: <strong
                                            data-bind="text: $root.CurrentItem().Count()*$root.CurrentItem().Item.Price"></strong>
                                    </div>
                                </div>
                                <!--.c-total-->
                                <div class="c-popup__actions">
                                    <a href="Cart.html#" onclick="return false" class="js-popup__trigger js-edited-save"
                                        data-bind="attr:{dataId: $root.CurrentItem().Id, dataCount: $root.CurrentItem().ZCount(),dataNumber: $root.CurrentItem().Item.Number},css:{ 'c-menu--disabled': $root.CurrentItem().ZCount()<1} ">OK</a>
                                </div>
                            </div>

                            <div data-bind="if: $root.CurrentItem && !$root.IsSingle()">
                                <div class="c-popup__title" data-bind="text: $root.CurrentItem().Name()"></div>

                                <div class="c-modificators" data-bind="foreach: $root.CurrentItem().ModifierGroups">
                                    <div data-bind="if: Modifiers().length>0">
                                        <div class="c-modificators__title">
                                            К этому блюду Вы можете выбрать:
                                        </div>
                                        <div data-bind="if: MinimumSelected==0">
                                            <div data-bind="foreach: Modifiers">
                                                <div class="c-modificators__item clearfix">
                                                    <div class="c-modificators__form-item">
                                                        <form action="Cart.html">
                                                            <div class="c-form__checkbox"
                                                                data-bind="click:function (){$parent.setModifiers($data)}">
                                                                <input type="checkbox" data-bind="checked:IsChecked">
                                                                <label data-bind="text: Name"></label>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div data-bind="if: MinimumSelected > 0 && MaximumSelected>0">
                                            <div data-bind="foreach: Modifiers">
                                                <div class="c-modificators__item clearfix">
                                                    <div class="c-modificators__form-item"
                                                        data-bind="click:function (){$parent.setModifier($data)}">
                                                        <div class="c-form__radio">
                                                            <input type="radio"
                                                                data-bind="checked:$parent.IsSelected,checkedValue:Code">
                                                            <label data-bind="text: Name"></label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--.modificators-->

                                <div class="c-popup__actions">
                                    <a href="Cart.html#" onclick="return false"
                                        class="js-popup__trigger js-edited-combo-save">OK</a>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <!--.c-popup-->
                <!---------------------------END OF MODAL SUCCESS ---------------------------------------------->
            </body>


        </div>

        <footer id="TFooter" class="c-footer c-footer--fixed">
            <div class="c-layout clearfix">
                <div class="c-footer__apps clearfix">
                    <a href="https://itunes.apple.com/ru/app/%D0%B8%D0%BC%D0%BF%D0%B5%D1%80%D0%B8%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B-%D0%B1%D0%B8%D1%88%D0%BA%D0%B5%D0%BA/id1040746585?mt=8"
                        class="c-footer__app c-footer__app--apple-store"></a>
                    <a href="https://play.google.com/store/apps/details?id=com.timelysoft.virtualcardclient"
                        class="c-footer__app c-footer__app--google-play"></a>
                </div>
                <div class="c-footer__social">
                    <a href="https://www.facebook.com/mypizza.kg/"><i class="fa fa-facebook-square"
                            aria-hidden="false"></i></a>
                    <a href="https://www.instagram.com/mypizzakg/"><i class="fa fa-instagram"
                            aria-hidden="true"></i></a>
                    <a href="https://vk.com/mypizzakg"><i class="fa fa-vk" aria-hidden="true"></i></a>
                    <a href="https://ok.ru/mypizzakg"><i class="fa fa-odnoklassniki-square" aria-hidden="true"></i></a>
                </div>
                <div class="c-footer__copyright">
                    &copy; 2002-2021 ИМПЕРИЯ ПИЦЦЫ.<br>Все права защищены
                </div>
            </div>
        </footer>
        <div class="c-mask js-mask"></div>
    </div>



    <script src="js/device.js%3Fv=LTaRUXK_aqqzrsXMHznj6vSCcryHf3xKoJgUIsLvDy0"></script>
    <script src="plugins/modernizr/modernizr.js%3Fv=F-IljdV7bf4lH5S4axWl3de5ObgLSbEbxxU5yvSDphw"></script>
    <script src="plugins/swiper/js/swiper.min.js%3Fv=xktjrXjsylce-TLUPmbhuL4nl3Db0mLlOTMKIctKm6o"></script>
    <script
        src="plugins/ResponsiveSlides/responsiveslides.min.js%3Fv=fpqXz82d8XcxrrFj_kR7bIEOUB72ZjSEg-RoIPRnXRs"></script>
    <script src="js/site.min.js%3Fv=gtX8cFj09DMEpjseap1-BpykGnsMEyGdnJafrPF5b6w"></script>
    <script src="js/core.js%3Fv=wBeW_UoktXGwV4w8wr9nG795qRvzikTK6QB22epupaY"></script>
    <script src="js/site.js%3Fv=j--OUiqb9d-BfzK1XoqobPh-iyVzmSGzNXOeyObPcWQ"></script>
    <script src="js/cartRepo.js%3Fv=E3dc6UgPUmOccFyelqlQILQ7afs3GBa27agKiKQGpZQ"></script>
    <script src="js/viewModel.js%3Fv=UzrWYF3UPcVZBZC3Zuwdo-F9LPRIsMXeIYofpUocEMI"></script>
    <script src="js/context.js%3Fv=CKK7tFzmPDzF5AjuhGydhXYMEaoF5XFcH3tEFnQiLzA"></script>
    <script src="js/model.js%3Fv=zf8rMjypdWcHHp-Y3wMNr_pDUSczqNA6amAY-Ec5XbU"></script>
    <script src="js/pizzaloader.js%3Fv=mYzC5Ld4vrffjAE8FlHE9IwQnA8DAEaT5KsbKynNjGg"></script>
    <script src="https://www.google.com/recaptcha/api.js"></script>



    <script type="text/html" id="cartItemsTemplate2">
        <div class="c-orders__item">
            <div class="c-orders__content clearfix">
                <div class="c-orders__media">
                    <img data-bind="attr: {src: Item.PicturePath}" alt="" />
                </div>
                <div class="c-orders__meta clearfix">
                    <div class="c-orders__title c-menu__title--new" data-bind="text: Item.Name, attr: { dataId: Id}"></div>
                    <div class="c-orders__price">
                        <span><span data-bind="text: Item.Price*Count"></span> c.</span>
                    </div>
                    <div class="c-orders__actions js-roulette clearfix">
                        <span data-bind="attr: {dataId: Id}" class="c-menu__arrow c-menu__arrow--minus btn-decrease" title="уменьшить"></span>
                        <span class="c-menu__count">
                            <form action="Cart.html">
                                <input disabled type="text" class="js-roulette__count" data-bind="value: Count" data-min="0" />
                            </form>
                        </span>
                        <span data-bind="attr: {dataId: Id}" class="c-menu__arrow c-menu__arrow--plus btn-increase" title="увеличить"></span>
                    </div>
                    <div class="c-orders__delete" data-bind="attr: {dataId: Id}"></div>
                </div>
            </div>
            <div data-bind="if: Item.ModifierGroups.length>0">
                <div class="c-modificators">
                    <div class="c-modificators__add">
                        <a href="Cart.html#" onclick="return false" class="js-popup__trigger btn-edit" data-bind="attr:{dataId : Id}">Добавить</a>
                    </div>
                    <div class="c-modificators__title">К этому блюду:</div>
                    <div data-bind="foreach: Item.ModifierGroups">
                        <div data-bind="if: Modifiers">
                            <div class="c-modificators__item clearfix" data-bind="foreach: Modifiers">
                                <div data-bind="if: Quantity>0">
                                    <div class="c-modificators__label" data-bind="text:Name + ' : ' +Quantity">
                                        <strong>1</strong>
                                    </div>
                                </div>
                            </div><!--.c-modificators__item-->
                        </div>
                    </div>
                </div><!--.modificators-->
            </div>
        </div><!--.c-orders__item-->
    </script>

    <script type="text/html" id="cartItemsTemplate3">
        <div class="c-orders__item">
            <div class="c-orders__content clearfix">
                <div class="c-orders__media">
                    <img data-bind="attr: {src: ParentPicturePath}" alt="" />
                </div>
                <div class="c-orders__meta clearfix">
                    <div class="c-orders__title c-menu__title--new" data-bind="text: ParentName+': '+ItemL.Name+', '+ItemR.Name, attr: { dataId: Id}"></div>
                    <div class="c-orders__price">
                        <span><span data-bind="text: ItemL.Price+ItemR.Price"></span> c.</span>
                    </div>
                    <div class="c-orders-combo__delete" data-bind="attr: {dataId: Id}"></div>
                </div>
            </div>
            <div data-bind="if: ItemL.ModifierGroups.length>0">
                <div class="c-modificators">
                    <div class="c-modificators__add">
                        <a href="Cart.html#" onclick="return false" isLeft="true" class="js-popup__trigger btn-edit-combo" data-bind="attr:{dataId : Id}">Изменить</a>
                    </div>
                    <div class="c-modificators__title" data-bind="text: 'К '+ ItemL.Name +' блюду:', attr: { dataId: Id}"></div>
                    <div data-bind="foreach: ItemL.ModifierGroups">
                        <div data-bind="if: Modifiers">
                            <div class="c-modificators__item clearfix" data-bind="foreach: Modifiers">
                                <div data-bind="if: Quantity>0">
                                    <div class="c-modificators__label" data-bind="text:Name + ' : ' +Quantity">
                                        <strong>1</strong>
                                    </div>
                                </div>
                            </div><!--.c-modificators__item-->
                        </div>
                    </div>
                </div><!--.modificators-->
            </div>
            <div data-bind="if: ItemR.ModifierGroups.length>0">
                <div class="c-modificators">
                    <div class="c-modificators__add">
                        <a href="Cart.html#" onclick="return false" isLeft="false" class="js-popup__trigger btn-edit-combo" data-bind="attr:{dataId : Id}">Изменить</a>
                    </div>
                    <div class="c-modificators__title" data-bind="text: 'К '+ ItemR.Name +' блюду:', attr: { dataId: Id}"></div>
                    <div data-bind="foreach: ItemR.ModifierGroups">
                        <div data-bind="if: Modifiers">
                            <div class="c-modificators__item clearfix" data-bind="foreach: Modifiers">
                                <div data-bind="if: Quantity>0">
                                    <div class="c-modificators__label" data-bind="text:Name + ' : ' +Quantity">
                                        <strong>1</strong>
                                    </div>
                                </div>
                            </div><!--.c-modificators__item-->
                        </div>
                    </div>
                </div><!--.modificators-->
            </div>
        </div><!--.c-orders__item-->
    </script>

    <script src="js/maskedinput.js"></script>
    <script src="js/select2/select2.js"></script>
    <script type="text/javascript">

        var viewModel = new CartViewModel();
        viewModel.InitializeOrderTypes([{ "Id": 1, "Name": "С доставкой", "MinimalSum": 250, "DeliveryTime": 30, "Preparationtime": 30, "ProcessingTime": 3 }, { "Id": 2, "Name": "На вынос", "MinimalSum": 0, "DeliveryTime": 0, "Preparationtime": 30, "ProcessingTime": 1 }]);
        var rviewModel = new ResponseViewModel();
        var clearBasket = function () {
            viewModel.setEmptyBasket();
        }

        var showOrderResultMessage = function (model) {
            rviewModel.setResponses(model);
            ko.cleanNode(document.getElementById("responseId"));
            ko.applyBindings(rviewModel, document.getElementById("responseId"));
            var root = $('body');
            root.toggleClass('is-modal');
        }

        $(document).ready(function () {
            categoryController.init2(
                document,
                '.order__total',
                'basket2',
                'orderPopupId'
            );
            ko.applyBindings(viewModel, this.getElementById("cartOrderId"));

            $('#select2').select2();

            $(document).on('click', ".closeResponseFormOfOrder", function () {
                window.location.href = "/Cart";
            });

            //showLoader();
        });

        $("#btnSubmit")
            .click(function (event) {
                event.preventDefault();
                viewModel.setCartItems();
                if (viewModel.OrderSum() >= viewModel.GetMinimalSum() && viewModel.OrderSum() > 0) {
                    disableSubmitBtn();
                    showLoader();

                    //Recaptcha response===============
                    var recaptchaResponse = null;
                    var isForeignIp = $("#IdIsForeignIp").val();
                    //console.log(isForeignIp);
                    if (isForeignIp == "True" || isForeignIp == "true") {
                        //console.log("Inner");
                        recaptchaResponse = grecaptcha.getResponse();
                    }
                    if (recaptchaResponse !== null) {
                        if (recaptchaResponse == "") {
                            viewModel.setRecaptchaResponse("empty response");
                        } else {
                            viewModel.setRecaptchaResponse(recaptchaResponse);
                        }
                    }
                    //Recaptcha response==============

                    var model = ko.toJS(viewModel);
                    var jsonData = {};
                    $.each(model,
                        function (i, datas) {
                            if (datas !== "") {
                                jsonData[i] = datas;
                            }
                        });
                    console.log(jsonData)
                    $.ajax({
                        type: 'POST',
                        contentType: 'application/json; charset=utf-8',
                        data: JSON.stringify(jsonData),
                        url: "/Cart/SubmitOrder",
                        dataType: 'json',
                        headers:
                        {
                            "X-XSRF-TOKEN": 'CfDJ8Dr02YubNH9Pszpg7N8Q0VZiqUdkH6XC147xZ7NPcYivMp48NL7he7_bsJJQG9UsK-K8jJFhrDE5FKm9zG4-hk74x-kgwXl3hm_kNCSzapcwPeMVP2c4gkqPGmjjRzxng165a44bbvrqZqj1kP8xVgk'
                        },
                        success: function (result) {
                            hideLoader();
                            clearBasket();
                            enableSubmitBtn();
                            showOrderResultMessage(result);
                            //CLearTextArea('.uniqueHidden');
                            //CLearTextArea('.uniqueHidden2');

                            //if (isForeignIp == "True" || isForeignIp == "true") {
                            //    grecaptcha.reset();
                            //}
                            //window.location.href = "/Cart";
                        },
                        error: function (xhr, status, err) {
                            hideLoader();
                            enableSubmitBtn();
                            if (isForeignIp == "True" || isForeignIp == "true") {
                                grecaptcha.reset();
                            }
                            var jsonObject = xhr.responseJSON;
                            if (jsonObject !== undefined) {
                                var spans = $('.uniqueHidden');
                                var spans2 = $('.uniqueHidden2');
                                var isDelivery = false;
                                $.each(spans,
                                    function (i, datas) {
                                        var isTrue = false;
                                        $.each(jsonObject,
                                            function (j, keys) {
                                                if (j == "Check") {
                                                    if (keys == "true") {
                                                        isDelivery = true;
                                                    }
                                                } else if (j == $(datas).attr("name")) {
                                                    $(datas).text(keys);
                                                    $(datas).removeClass("hidden");
                                                    isTrue = true;
                                                }
                                            });
                                        if (!isTrue) {
                                            $(datas).text("");
                                            $(datas).addClass("hidden");
                                        }
                                    });
                                if (isDelivery) {
                                    $.each(spans2,
                                        function (i, datas) {
                                            var isFound = false;
                                            $.each(jsonObject,
                                                function (j, keys) {
                                                    if (j == $(datas).attr("name")) {
                                                        $(datas).text(keys);
                                                        $(datas).removeClass("hidden");
                                                        isFound = true;
                                                    }
                                                });
                                            if (!isFound) {
                                                $(datas).text("");
                                                $(datas).addClass("hidden");
                                            }
                                        });
                                } else {
                                    $.each(spans2,
                                        function (i, datas) {
                                            $(datas).text("");
                                            $(datas).addClass("hidden");
                                        });
                                }
                            }
                            else {
                                alert(xhr.responseText);
                                ClearTextArea('.uniqueHidden');
                                ClearTextArea('.uniqueHidden2');
                            }
                        }
                    });
                } else {
                    alert("Заказ должен превышать " + viewModel.GetMinimalSum() + " сом");
                }
                return false;
            });

        //$("#loaderId")
        //    .click(function (event) {

        //        event.preventDefault();
        //        hideLoader();
        //    });
        function ClearTextArea(text) {
            var spans = $(text);
            $.each(spans,
                function (i, datas) {
                    $(datas).text("");
                    $(datas).addClass("hidden");
                });
        }

        function Contains(array, item) {
            for (var i = 0; i < array.length; i++) {
                if (array[i] === item) {
                    return true;
                }
            }
            return false;
        }

        function enableSubmitBtn() {
            $("#btnSubmit").attr("disabled", false);
        }

        function disableSubmitBtn() {
            $("#btnSubmit").attr("disabled", true);
        }

        function showLoader() {
            $("#loaderId").removeClass("pizza_loader_none");
            $("#loaderId").addClass("pizza_loader");
            startLoader();
        }

        function hideLoader() {
            $("#loaderId").addClass("pizza_loader_none");
            $("#loaderId").removeClass("pizza_loader");
            removeContextLoader();
        }

        jQuery(function ($) {
            $("#phone").mask("+996$$$$$$$$$");
        });
    </script>


    <script type="text/javascript">
        //Удалить fixed- footer в случаи не главной страницы
        $(document).ready(function () {
            var t = document.getElementById("Tname");
            if ("Главная страница | Империя пиццы" != t.text) {
                document.getElementById("TFooter").classList.remove('c-footer--fixed');
            }
        });

        (function (w, d, s, u) {
            w.RocketChat = function (c) { w.RocketChat._.push(c) }; w.RocketChat._ = []; w.RocketChat.url = u;
            var h = d.getElementsByTagName(s)[0], j = d.createElement(s);
            j.async = true; j.src = 'https://chat.mypizza.kg/packages/rocketchat_livechat/assets/rocketchat-livechat.min.js?_=201702160944';
            h.parentNode.insertBefore(j, h);
        })(window, document, 'script', 'https://chat.mypizza.kg/livechat');
    </script>

</body>

</html>